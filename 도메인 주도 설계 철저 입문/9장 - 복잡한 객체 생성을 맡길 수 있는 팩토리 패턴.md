# 복잡한 객체 생성을 맡길 수 있는 팩토리 

## 9.1 팩토리의 목적

- 어떤 객체를 만드는게 복잡한 경우 클라이언트에 무작정 맡기는 것 보단 만드는 객체인 ‘팩토리’를 정의하는 것이 좋음

## 9.2 번호 매기기를 구현한 팩토리의 구현 예

### 9.2.1 자동 번호 매기기 기능 활용하기
        
데이터베이스의 auto increment 기능을 사용하기에는 id가 변경가능해지고, 항상 개발자가 식별자가 없을 수 있다는 점을 의식하면서 세심하게 주의를 기울여야함. 

> 객체를 데이터베이스에 저장할 때까지 이 식별자가부여되지 않는다는 것은 자연스럽지도 않고 범해서는 안 되는 금기사항이다. 식별자가 부여되지 않은 상태에서 객체를 잘못 다루면 의도하지 않은 동작을 보일 것이다 - 201

### 9.2.2 번호 매기기 메서드를 리포지토리에 두기
        
리포지토리에 ID 생성 메서드를 두는 패턴도 좋음. ID 생성에 있어서 기반 기술이 달라지는 경우는 조금 어색하다고 느껴질 수 있으나 팀에서 합의가 있다면 상관없음
        
## 9.3 팩토리 역할을 하는 메서드

- 다른 객체를 팩토리 형태로 생성하는 메서드를 정의할 수 있다.
- 이렇게 하는 이유는 ID와 같은 값들을 외부로 노출시키지 않으면서도, 다른 객체간의 연관 관계를 만들 수 있기 때문.

## 9.4 복잡한 객체 생성 절차를 캡슐화하기

- 생성자는 단순함을 유지해야하기 때문에 생성자 메서드가 복잡하다면 팩토리를 정의해서 사용하자.
- 생성자 안에서 다른 객체를 생성하는지 체크해보면 팩토리의 필요성을 알 수 있다.
- 근데 모든 경우에 그렇게 할 필요는 없고 간단한 경우는 생성자 메서드를 이용하는 것이 낫다.
